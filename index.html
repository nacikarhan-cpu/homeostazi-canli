<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CanlÄ±larda Homeostazi - Naci Karhan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        .option-btn {
            transition: all 0.2s ease;
            border: 2px solid #e2e8f0;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: #3b82f6;
            background-color: #eff6ff;
        }

        .correct {
            background-color: #10b981 !important;
            color: white !important;
            border-color: #059669 !important;
        }

        .incorrect {
            background-color: #ef4444 !important;
            color: white !important;
            border-color: #dc2626 !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .badge-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="app" class="max-w-3xl mx-auto glass-card overflow-hidden">
        <!-- GiriÅŸ EkranÄ± -->
        <div id="welcome-screen" class="p-8 text-center fade-in">
            <div class="mb-6">
                <i class="fas fa-microscope text-6xl text-blue-600 mb-4"></i>
                <h1 class="text-3xl font-bold text-gray-800 mb-2">CanlÄ±larda Homeostazi</h1>
                <p class="text-gray-600 italic underline">"VÃ¼cudumuzun Muazzam Dengesi"</p>
            </div>
            
            <div class="bg-blue-50 p-6 rounded-xl mb-8 text-left border-l-4 border-blue-500">
                <h2 class="font-bold text-blue-800 mb-2 underline">Merhaba DeÄŸerli ArkadaÅŸlar!</h2>
                <p class="text-gray-700 leading-relaxed">
                    Bu gÃ¼n sizinle 2024 MEB mÃ¼fredatÄ±na tam uyumlu bir yolculuÄŸa Ã§Ä±kÄ±yoruz. 
                    <br><br>
                    âœ¨ <b>Ã–nemli:</b> Bu test her baÅŸladÄ±ÄŸÄ±nda sorular karÄ±ÅŸÄ±k olarak gelir, bÃ¶ylece her denemede gerÃ§ek bir sÄ±nav deneyimi yaÅŸarsÄ±n!
                </p>
                <ul class="mt-4 space-y-2 text-sm text-gray-600">
                    <li><i class="fas fa-random text-purple-500 mr-2"></i>Her Seferinde KarÄ±ÅŸÄ±k Soru SÄ±rasÄ±</li>
                    <li><i class="fas fa-clock text-blue-500 mr-2"></i>CanlÄ± Kronometre Takibi</li>
                    <li><i class="fas fa-award text-yellow-500 mr-2"></i>BaÅŸarÄ± Rozeti Sistemi</li>
                </ul>
            </div>

            <div class="flex flex-col gap-3">
                <button onclick="startExplore()" class="bg-indigo-600 text-white font-bold py-4 px-8 rounded-xl hover:bg-indigo-700 transition shadow-lg">
                    <i class="fas fa-book-open mr-2"></i>Konuyu KeÅŸfet (Ã–zet)
                </button>
                <button onclick="startQuiz()" class="bg-green-600 text-white font-bold py-4 px-8 rounded-xl hover:bg-green-700 transition shadow-lg">
                    <i class="fas fa-play mr-2"></i>Kendini Dene (Testi BaÅŸlat)
                </button>
            </div>

            <footer class="mt-12 text-gray-400 text-xs">
                TasarÄ±m: Naci Karhan
            </footer>
        </div>

        <!-- KeÅŸfet BÃ¶lÃ¼mÃ¼ -->
        <div id="explore-screen" class="hidden p-8 fade-in">
            <button onclick="showMain()" class="text-blue-600 mb-4 hover:underline"><i class="fas fa-arrow-left mr-1"></i> Ana MenÃ¼</button>
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Homeostazi Nedir?</h2>
            
            <div class="space-y-6 text-gray-700 overflow-y-auto max-h-[60vh] pr-2">
                <section class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                    <h3 class="font-bold text-lg mb-2">TanÄ±m:</h3>
                    <p>DeÄŸiÅŸen dÄ±ÅŸ Ã§evre koÅŸullarÄ±na raÄŸmen, hÃ¼crelerin ve vÃ¼cudun <b>iÃ§ Ã§evresini sabit tutma</b> Ã§abasÄ±na <b>Homeostazi</b> denir.</p>
                </section>

                <section>
                    <h3 class="font-bold text-blue-600 mb-2">Temel Bilgi:</h3>
                    <p>Homeostazi tek hÃ¼crelilerden Ã§ok hÃ¼crelilere kadar tÃ¼m canlÄ±larÄ±n ortak Ã¶zelliÄŸidir. Enzimlerin Ã§alÄ±ÅŸmasÄ± iÃ§in bu denge (pH, sÄ±caklÄ±k) ÅŸarttÄ±r.</p>
                </section>

                <section class="bg-blue-50 p-4 rounded-lg">
                    <h3 class="font-bold text-indigo-700 mb-2">Naci Hoca Notu:</h3>
                    <p class="italic font-semibold text-sm">"Sorular her seferinde karÄ±ÅŸÄ±k gelecek. Sadece cevabÄ± deÄŸil, mantÄ±ÄŸÄ± Ã¶ÄŸrenmeye Ã§alÄ±ÅŸ!"</p>
                </section>
            </div>
            
            <button onclick="startQuiz()" class="mt-8 w-full bg-green-600 text-white font-bold py-3 rounded-xl hover:bg-green-700 transition">
                Hemen Teste BaÅŸla
            </button>
        </div>

        <!-- Quiz EkranÄ± -->
        <div id="quiz-screen" class="hidden p-6 fade-in">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <div class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-bold text-sm">
                    Soru: <span id="current-q-num">1</span>/25
                </div>
                <div class="flex items-center gap-4 text-gray-600">
                    <span id="timer" class="font-mono font-bold text-xl text-indigo-600"><i class="fas fa-clock mr-1"></i> 00:00</span>
                    <button onclick="confirmExit()" class="text-red-500 hover:text-red-700 text-sm"><i class="fas fa-sign-out-alt"></i> AyrÄ±l</button>
                </div>
            </div>

            <div id="question-container" class="mb-8">
                <h3 id="question-text" class="text-xl font-semibold text-gray-800 leading-relaxed mb-6"></h3>
                <div id="options-grid" class="grid grid-cols-1 gap-3"></div>
            </div>

            <div id="feedback-panel" class="hidden p-4 rounded-xl mb-4 text-center font-bold"></div>
            <div id="explanation-panel" class="hidden p-4 bg-gray-100 rounded-xl mb-6 text-sm text-gray-700">
                <h4 class="font-bold text-blue-600 mb-1">Neden YanlÄ±ÅŸtÄ±?</h4>
                <p id="explanation-text"></p>
            </div>

            <button id="next-btn" class="hidden w-full bg-blue-600 text-white font-bold py-4 rounded-xl hover:bg-blue-700 transition shadow-lg">
                SÄ±radaki Soru <i class="fas fa-arrow-right ml-2"></i>
            </button>

            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-8">
                <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <footer class="mt-4 text-center text-gray-400 text-xs">TasarÄ±m: Naci Karhan</footer>
        </div>

        <!-- SonuÃ§ EkranÄ± -->
        <div id="result-screen" class="hidden p-8 text-center fade-in">
            <h2 class="text-3xl font-bold text-gray-800 mb-2">SÄ±nav TamamlandÄ±!</h2>
            <div id="badge-container" class="mb-6 badge-pulse"></div>

            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-green-50 p-4 rounded-xl border border-green-200">
                    <p class="text-green-600 text-sm">DoÄŸru</p>
                    <p id="final-correct" class="text-2xl font-bold text-green-700">0</p>
                </div>
                <div class="bg-red-50 p-4 rounded-xl border border-red-200">
                    <p class="text-red-600 text-sm">YanlÄ±ÅŸ</p>
                    <p id="final-wrong" class="text-2xl font-bold text-red-700">0</p>
                </div>
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-200 col-span-2">
                    <p class="text-blue-600 text-sm">BaÅŸarÄ± YÃ¼zdesi</p>
                    <p id="final-percent" class="text-3xl font-bold text-blue-700">0%</p>
                </div>
            </div>

            <div class="flex gap-4">
                <button onclick="startQuiz()" class="flex-1 bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition">
                    <i class="fas fa-redo mr-2"></i>Yeniden BaÅŸla (KarÄ±ÅŸtÄ±rarak)
                </button>
                <button onclick="showMain()" class="flex-1 bg-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-300 transition">
                    <i class="fas fa-home mr-2"></i>Ana MenÃ¼
                </button>
            </div>
            <footer class="mt-8 text-gray-400 text-xs">TasarÄ±m: Naci Karhan</footer>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl">
            <h3 class="text-xl font-bold mb-4 text-gray-800">Ã‡Ä±kmak Ä°stiyor Musun?</h3>
            <p class="text-gray-600 mb-6">YarÄ± yolda bÄ±rakma, iÃ§ dengeyi kurmalÄ±sÄ±n!</p>
            <div class="flex gap-3">
                <button onclick="hideModal()" class="flex-1 bg-gray-100 py-2 rounded-lg font-bold">Kal</button>
                <button onclick="location.reload()" class="flex-1 bg-red-500 text-white py-2 rounded-lg font-bold">Ã‡Ä±k</button>
            </div>
        </div>
    </div>

    <script>
        const originalQuestions = [
            {
                q: "Ä°nsan vÃ¼cudunda kanÄ±n pH deÄŸerinin yaklaÅŸÄ±k 7.4 seviyesinde tutulmasÄ± hangi homeostatik mekanizma ile saÄŸlanÄ±r?",
                options: ["Sadece terleme", "Bikarbonat tampon sistemi", "Sadece glikojen sentezi", "Sadece yaÄŸ depolama", "Kemiklerin bÃ¼yÃ¼mesi"],
                correct: 1,
                explanation: "Kan pH'Ä± karbonik asit ve bikarbonat iyonlarÄ± arasÄ±ndaki dengeyle (tampon Ã§Ã¶zeltiler) sabit tutulur."
            },
            {
                q: "VÃ¼cut Ä±sÄ±sÄ± normalin Ã¼zerine Ã§Ä±ktÄ±ÄŸÄ±nda hipotalamus hangi yanÄ±tÄ± oluÅŸturur?",
                options: ["Titreme baÅŸlatma", "KÄ±lcal damarlarÄ± daraltma", "Ter bezlerini uyarma", "Tiroksin salgÄ±sÄ±nÄ± artÄ±rma", "MetabolizmayÄ± hÄ±zlandÄ±rma"],
                correct: 2,
                explanation: "SÄ±caklÄ±k artÄ±nca vÃ¼cut Ä±sÄ±yÄ± atmak iÃ§in terleme yapar."
            },
            {
                q: "KanÄ±n ozmotik basÄ±ncÄ± arttÄ±ÄŸÄ±nda bÃ¶breklerden su geri emilimini artÄ±ran hormon hangisidir?",
                options: ["Ä°nsÃ¼lin", "Kalsitonin", "ADH (Vazopressin)", "Adrenalin", "Oksitosin"],
                correct: 2,
                explanation: "ADH, bÃ¶brek kanallarÄ±ndan suyun geri emilmesini saÄŸlayarak ozmotik basÄ±ncÄ± dengeler."
            },
            {
                q: "AÅŸaÄŸÄ±dakilerden hangisi bir negatif geribildirim (feedback) Ã¶rneÄŸidir?",
                options: ["Kan ÅŸekeri artÄ±nca insÃ¼lin salgÄ±lanmasÄ±", "DoÄŸumda oksitosin artÄ±ÅŸÄ±nÄ±n sancÄ±yÄ± artÄ±rmasÄ±", "Yaralanmada kanÄ±n pÄ±htÄ±laÅŸma faktÃ¶rlerini hÄ±zlandÄ±rmasÄ±", "Meyvelerin olgunlaÅŸÄ±rken daha fazla etilen Ã¼retmesi", "Duygusal heyecanda adrenalin patlamasÄ±"],
                correct: 0,
                explanation: "Negatif geribildirimde sistem etkiyi azaltmaya Ã§alÄ±ÅŸÄ±r."
            },
            {
                q: "SoÄŸuk havada kÄ±lcal damarlarÄ±n daralmasÄ±nÄ±n (vazokonstriksiyon) temel amacÄ± nedir?",
                options: ["Tansiyonu dÃ¼ÅŸÃ¼rmek", "VÃ¼cut Ä±sÄ±sÄ±nÄ± korumak", "Daha fazla terlemek", "Glikoz tÃ¼ketimini azaltmak", "Sindirim hÄ±zÄ±nÄ± artÄ±rmak"],
                correct: 1,
                explanation: "Damarlar daralarak Ä±sÄ±nÄ±n yÃ¼zeyden kaybolmasÄ±nÄ± engeller."
            },
            {
                q: "Kanda kalsiyum miktarÄ± normalin altÄ±na dÃ¼ÅŸtÃ¼ÄŸÃ¼nde hangi hormon devreye girer?",
                options: ["Kalsitonin", "Parathormon", "Ä°nsÃ¼lin", "Glukagon", "Aldosteron"],
                correct: 1,
                explanation: "Parathormon kemikten kana kalsiyum geÃ§iÅŸini saÄŸlar."
            },
            {
                q: "CanlÄ±larda homeostazinin saÄŸlanmasÄ±nda aÅŸaÄŸÄ±dakilerden hangisi doÄŸrudan gÃ¶rev almaz?",
                options: ["Sinir sistemi", "Endokrin sistem", "BoÅŸaltÄ±m sistemi", "HÃ¼cre zarÄ±ndaki protein sentezi hÄ±zÄ±", "Solunum sistemi"],
                correct: 3,
                explanation: "Protein sentez hÄ±zÄ± spesifik bir hÃ¼cresel olaydÄ±r, doÄŸrudan yÃ¶netimsel deÄŸildir."
            },
            {
                q: "Ä°nsanda kanÄ±n sÃ¼zÃ¼lmesi yoluyla kanÄ±n kimyasal kompozisyonunu dÃ¼zenleyen temel organ hangisidir?",
                options: ["Kalp", "KaraciÄŸer", "BÃ¶brek", "Mide", "Beyincik"],
                correct: 2,
                explanation: "BÃ¶brekler Ã¼reyi sÃ¼zer ve iyon dengesini saÄŸlar."
            },
            {
                q: "HÃ¼cre dÄ±ÅŸÄ± sÄ±vÄ±nÄ±n sodyum dengesini dÃ¼zenleyen korteks hormonu hangisidir?",
                options: ["Kortizol", "Aldosteron", "Adrenalin", "TSH", "Ã–strojen"],
                correct: 1,
                explanation: "Aldosteron sodyum geri emilimini saÄŸlar."
            },
            {
                q: "AÃ§lÄ±k durumunda kan ÅŸekerini yÃ¼kseltmek iÃ§in glikojenin glikoza dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ saÄŸlayan hormon hangisidir?",
                options: ["Ä°nsÃ¼lin", "Glukagon", "Kalsitonin", "STH", "Gastrin"],
                correct: 1,
                explanation: "Glukagon kan ÅŸekerini artÄ±rÄ±r."
            },
            {
                q: "Egzersiz yapan bir bireyde CO2 artÄ±ÅŸÄ±na baÄŸlÄ± olarak ne gÃ¶zlenir?",
                options: ["Kan pH'Ä± dÃ¼ÅŸer ve soluk hÄ±zÄ± artar", "Kan pH'Ä± yÃ¼kselir ve soluk yavaÅŸlar", "IsÄ± azalÄ±r", "Ä°nsÃ¼lin salgÄ±sÄ± tavan yapar", "Alyuvar sayÄ±sÄ± azalÄ±r"],
                correct: 0,
                explanation: "CO2 kanÄ± asitleÅŸtirir, bu da soluk alÄ±ÅŸveriÅŸini hÄ±zlandÄ±rÄ±r."
            },
            {
                q: "VÃ¼cut termostatÄ±nÄ±n (hipotalamus) ayarÄ±nÄ±n enfeksiyonla deÄŸiÅŸmesi neye yol aÃ§ar?",
                options: ["Kan ÅŸekerinin dÃ¼ÅŸmesine", "Titreme ve yÃ¼ksek ateÅŸe", "HafÄ±za kaybÄ±na", "Boy uzamasÄ±na", "SaÃ§ dÃ¶kÃ¼lmesine"],
                correct: 1,
                explanation: "Pirojenler hipotalamusu uyararak vÃ¼cut Ä±sÄ±sÄ±nÄ± yÃ¼kseltir."
            },
            {
                q: "BÃ¶brekler kanÄ±n pH'Ä±nÄ± nasÄ±l dengeler?",
                options: ["Sadece ÅŸeker atarak", "H+ iyonlarÄ±nÄ± atÄ±p HCO3 emerek", "Vitamin Ã¼reterek", "Safra salgÄ±layarak", "Mide asidini kontrol ederek"],
                correct: 1,
                explanation: "H+ iyonu salgÄ±lanmasÄ± kanÄ±n asitlik derecesini dÃ¼ÅŸÃ¼rÃ¼r."
            },
            {
                q: "Ä°nsanda vÃ¼cut Ä±sÄ±sÄ±nÄ± dengeleyen merkez neresidir?",
                options: ["Omurilik", "Beyincik", "Hipotalamus", "Talamus", "Orta Beyin"],
                correct: 2,
                explanation: "Hipotalamus vÃ¼cudun ana kontrol ve denge merkezidir."
            },
            {
                q: "AÅŸÄ±rÄ± tuzlu beslenen birinde hangi hormon artar?",
                options: ["Ä°nsÃ¼lin", "Glukagon", "ADH", "Kortizol", "STH"],
                correct: 2,
                explanation: "Tuz ozmotik basÄ±ncÄ± artÄ±rÄ±r, ADH suyun geri emilmesini saÄŸlar."
            },
            {
                q: "Ä°Ã§ dengenin bozulmasÄ± sonucu gÃ¶rÃ¼len kronik duruma ne denir?",
                options: ["Metabolizma", "Homeostazi", "HastalÄ±k", "Adaptasyon", "Modifikasyon"],
                correct: 2,
                explanation: "Homeostazi bozulursa vÃ¼cutta patolojik (hastalÄ±k) durumlar baÅŸlar."
            },
            {
                q: "Hangi geribildirim tipi daha yaygÄ±ndÄ±r ve dengeyi korur?",
                options: ["Pozitif Geribildirim", "Negatif Geribildirim", "SÄ±fÄ±r Geribildirim", "NÃ¶tr Geribildirim", "SÃ¼rekli Geribildirim"],
                correct: 1,
                explanation: "Negatif geribildirim deÄŸiÅŸkeni normale Ã§ekmeye Ã§alÄ±ÅŸÄ±r."
            },
            {
                q: "CanlÄ±lar neden boÅŸaltÄ±m yapar?",
                options: ["Enerji Ã¼retmek iÃ§in", "Homeostazi saÄŸlamak iÃ§in", "HÃ¼cre bÃ¶lÃ¼nmesi iÃ§in", "Daha hÄ±zlÄ± koÅŸmak iÃ§in", "Besin Ã¼retmek iÃ§in"],
                correct: 1,
                explanation: "AtÄ±klarÄ±n uzaklaÅŸtÄ±rÄ±lmasÄ± iÃ§ dengenin korunmasÄ± iÃ§in temel ÅŸarttÄ±r."
            },
            {
                q: "Ä°stemli kas hareketleri homeostazi merkezi tarafÄ±ndan mÄ± yÃ¶netilir?",
                options: ["Evet", "HayÄ±r (UÃ§ Beyin)", "Sadece uykuda", "Sadece koÅŸarken", "Bebeklikte evet"],
                correct: 1,
                explanation: "Ä°stemli hareketler uÃ§ beyin (kabuk) kontrolÃ¼ndedir."
            },
            {
                q: "Hormonlar kana ne zaman salgÄ±lanÄ±r?",
                options: ["Dengede bir sapma olduÄŸunda", "Sadece gece", "Sadece yemek yerken", "SÃ¼rekli aynÄ± miktarda", "Sadece kÄ±ÅŸÄ±n"],
                correct: 0,
                explanation: "Hormonlar ihtiyaÃ§ halinde, dengenin saptÄ±ÄŸÄ± durumlarda salgÄ±lanÄ±r."
            },
            {
                q: "Claude Bernard'Ä±n homeostazi ile ilgili Ã¼nlÃ¼ tanÄ±mÄ± nedir?",
                options: ["Ä°Ã§ Ã§evrenin sabitliÄŸi", "Hayat bir kavgadÄ±r", "HÃ¼cre bÃ¶lÃ¼nmesi", "ZayÄ±fÄ±n elenmesi", "DoÄŸal seÃ§ilim"],
                correct: 0,
                explanation: "Ä°Ã§ Ã§evrenin sabit tutulmasÄ± kavramÄ±nÄ± ilk Claude Bernard ortaya atmÄ±ÅŸtÄ±r."
            },
            {
                q: "Su iÃ§meyen bir bireyde ne olur?",
                options: ["Kan hacmi artar", "Ä°drar yoÄŸunluÄŸu artar", "ADH azalÄ±r", "Tansiyon yÃ¼kselir", "AÄŸÄ±z kurumaz"],
                correct: 1,
                explanation: "VÃ¼cut suyu korumak iÃ§in daha deriÅŸik (yoÄŸun) idrar oluÅŸturur."
            },
            {
                q: "VÃ¼cut Ä±sÄ±sÄ± dÃ¼ÅŸen bir kiÅŸide kÄ±l kÃ¶kleri nasÄ±l davranÄ±r?",
                options: ["DÃ¶kÃ¼lÃ¼r", "DikleÅŸir (IsÄ± yalÄ±tÄ±mÄ±)", "YassÄ±laÅŸÄ±r", "Terler", "Beyazlar"],
                correct: 1,
                explanation: "KÄ±llarÄ±n dikleÅŸmesi deri yÃ¼zeyinde bir hava tabakasÄ± tutarak Ä±sÄ± kaybÄ±nÄ± azaltmaya Ã§alÄ±ÅŸÄ±r."
            },
            {
                q: "Glikozun kan dÃ¼zeyini kim ayarlar?",
                options: ["Pankreas", "BÃ¶brek ÃœstÃ¼ Bezi", "KaraciÄŸer", "Hepsi ortak Ã§alÄ±ÅŸÄ±r", "Sadece Mide"],
                correct: 3,
                explanation: "Pankreas (insÃ¼lin/glukagon), karaciÄŸer (depo) ve bÃ¶brek Ã¼stÃ¼ (adrenalin) ortaklaÅŸa Ã§alÄ±ÅŸÄ±r."
            },
            {
                q: "Sistemlerin koordinasyonunu kim saÄŸlar?",
                options: ["Sadece Kalp", "Denetleyici ve DÃ¼zenleyici Sistemler", "Sadece Kaslar", "Sadece Deri", "BaÄŸÄ±rsaklar"],
                correct: 1,
                explanation: "Sinir sistemi ve endokrin sistem koordinasyonu saÄŸlayarak homeostaziyi korur."
            }
        ];

        let questions = [];
        let currentQuestion = 0;
        let score = 0;
        let wrongAnswers = 0;
        let timerSeconds = 0;
        let timerInterval;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function showMain() {
            document.querySelectorAll('#app > div').forEach(div => div.classList.add('hidden'));
            document.getElementById('welcome-screen').classList.remove('hidden');
            clearInterval(timerInterval);
        }

        function startExplore() {
            document.querySelectorAll('#app > div').forEach(div => div.classList.add('hidden'));
            document.getElementById('explore-screen').classList.remove('hidden');
        }

        function startQuiz() {
            // SorularÄ± karÄ±ÅŸtÄ±rÄ±yoruz
            questions = shuffleArray([...originalQuestions]);
            
            // SeÃ§enekleri de karÄ±ÅŸtÄ±rmak istersen:
            questions.forEach(q => {
                const correctOptText = q.options[q.correct];
                shuffleArray(q.options);
                q.correct = q.options.indexOf(correctOptText);
            });

            currentQuestion = 0;
            score = 0;
            wrongAnswers = 0;
            timerSeconds = 0;
            
            document.querySelectorAll('#app > div').forEach(div => div.classList.add('hidden'));
            document.getElementById('quiz-screen').classList.remove('hidden');
            
            startTimer();
            loadQuestion();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timerSeconds++;
                const mins = String(Math.floor(timerSeconds / 60)).padStart(2, '0');
                const secs = String(timerSeconds % 60).padStart(2, '0');
                document.getElementById('timer').innerHTML = `<i class="fas fa-clock mr-1"></i> ${mins}:${secs}`;
            }, 1000);
        }

        function loadQuestion() {
            const qData = questions[currentQuestion];
            document.getElementById('current-q-num').innerText = currentQuestion + 1;
            document.getElementById('question-text').innerText = qData.q;
            document.getElementById('progress-bar').style.width = ((currentQuestion + 1) / questions.length * 100) + '%';
            
            const optionsGrid = document.getElementById('options-grid');
            optionsGrid.innerHTML = '';
            
            qData.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn w-full p-4 rounded-xl text-left font-medium flex items-center bg-white shadow-sm';
                btn.innerHTML = `<span class="bg-gray-100 w-8 h-8 rounded-full flex items-center justify-center mr-3 font-bold text-gray-500">${String.fromCharCode(65 + idx)}</span> ${opt}`;
                btn.onclick = () => selectOption(idx);
                optionsGrid.appendChild(btn);
            });

            document.getElementById('feedback-panel').classList.add('hidden');
            document.getElementById('explanation-panel').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
        }

        function selectOption(idx) {
            const qData = questions[currentQuestion];
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => btn.disabled = true);
            
            const feedback = document.getElementById('feedback-panel');
            feedback.classList.remove('hidden');

            if (idx === qData.correct) {
                buttons[idx].classList.add('correct');
                score++;
                feedback.innerHTML = "ğŸ”” TEBRÄ°KLER! (DoÄŸru)";
                feedback.className = 'p-4 rounded-xl mb-4 text-center font-bold bg-green-100 text-green-700';
            } else {
                buttons[idx].classList.add('incorrect');
                buttons[qData.correct].classList.add('correct');
                wrongAnswers++;
                feedback.innerHTML = "âŒ DÄ°KKAT! (YanlÄ±ÅŸ)";
                feedback.className = 'p-4 rounded-xl mb-4 text-center font-bold bg-red-100 text-red-700';
                
                document.getElementById('explanation-panel').classList.remove('hidden');
                document.getElementById('explanation-text').innerText = qData.explanation;
            }
            document.getElementById('next-btn').classList.remove('hidden');
        }

        document.getElementById('next-btn').onclick = () => {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                finishQuiz();
            }
        };

        function finishQuiz() {
            clearInterval(timerInterval);
            document.querySelectorAll('#app > div').forEach(div => div.classList.add('hidden'));
            document.getElementById('result-screen').classList.remove('hidden');

            const percent = Math.round((score / questions.length) * 100);
            document.getElementById('final-correct').innerText = score;
            document.getElementById('final-wrong').innerText = wrongAnswers;
            document.getElementById('final-percent').innerText = percent + '%';

            let badge = '';
            if (percent === 100) badge = 'ğŸ† AltÄ±n DNA Rozeti';
            else if (percent >= 80) badge = 'ğŸ¥ˆ GÃ¼mÃ¼ÅŸ HÃ¼cre Rozeti';
            else if (percent >= 50) badge = 'ğŸ¥‰ Bronz Denge Rozeti';
            else badge = 'ğŸŒ± Tohum Rozeti';
            
            document.getElementById('badge-container').innerHTML = `
                <div class="text-6xl mb-2">ğŸ“</div>
                <p class="text-2xl font-bold text-indigo-700">${badge}</p>
            `;
        }

        function confirmExit() { document.getElementById('modal').classList.remove('hidden'); }
        function hideModal() { document.getElementById('modal').classList.add('hidden'); }
    </script>
</body>
</html>